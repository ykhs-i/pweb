<!DOCTYPE html>

<html lang="ja">

<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

<title>ダイアグラム</title>

<style>
	html {
		font-size: 3.3vw;
	}

	* {
		margin: 0;
		padding: 0;
		box-sizing: border-box;
	}

	body {
		min-height: 100vh;
		width: 100%;
		background-color: #FDFEFE;
		font-family: "ヒラギノ丸ゴシック", "Helvetica Neue", Arial, sans-serif;
		user-select: none;
		touch-action: pan-y;
		overflow-y: scroll;
		-ms-overflow-style: none;
		scrollbar-width: none;
	}

	body::-webkit-scrollbar {
		display: none;
	}

	.content {
		cursor: pointer;
		position: relative;
		margin: 0;
	}

	.base_img {
		display: block;
		position: relative;
		margin: 0 auto;
		width: 100%;
		max-height: 100vh;
		object-fit: contain;
		top: 0;
		transition: transform 0.5s ease, transform-origin 0s ease;
	}

</style>

</head>

<body>
	<div class="content">
			<img class="base_img" src='nodegram.png' alt="拡大対象の画像">
	</div>

<script>

	const image = document.querySelector('.base_img');

	image.addEventListener('click', (event) => {
		const rect = image.getBoundingClientRect();
		const offsetX = event.clientX - rect.left;
		const offsetY = event.clientY - rect.top;

		image.style.transformOrigin = `${offsetX}px ${offsetY}px`;

		if (image.style.transform === 'scale(3)') {
			image.style.transform = 'scale(1)';
		} else {
			image.style.transform = 'scale(3)';
		}
	});

</script>

</body>

</html>